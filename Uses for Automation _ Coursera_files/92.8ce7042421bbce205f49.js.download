(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{"46xw":function(module,exports,e){e("j5nu")},Mww9:function(module,exports,e){},X9Xi:function(module,e,t){"use strict";t.r(e);var r=t("VbXa"),n=t.n(r),s=t("q1tI"),o=t("TSYQ"),i=t.n(o),a=t("17x9"),c=t.n(a),d=t("S+eF"),m=t.n(d),u=t("MnCE"),p=t("/ukj"),l=t("sQ/U"),g=t("K7Vu"),h=t("TOZ3"),f=t("PB6g"),I=t("YmkS"),v=t("pnKK"),b=t("q5zD"),C=t("15pW"),x=t("TSOT"),S=Object(x.a)("/api/onDemandWidgetProgress.v1",{type:"rest"}),w={markComplete:function markComplete(e,t,r,n){var s={data:{sessionId:n,progressState:"Completed"}},o=[r,t,e].join("~");return m()(S.put(o,s))},markStarted:function markStarted(e,t,r,n){var s={data:{sessionId:n,progressState:"Started"}},o=[r,t,e].join("~");return m()(S.put(o,s))}},E=w,M=w.markComplete,P=w.markStarted,k=t("E4RX"),O=function refreshProgress(e,t,r,n){r.setState(t),e.executeAction(k.c,{courseProgress:n})},y=function markItemComplete(e,t){var r=t.itemId,n=t.courseId,s=t.userId,o=t.itemProgress,i=t.courseProgress,a=t.sessionId;return E.markComplete(r,n,s,a).then(O(e,C.d.progressCompleted,o,i))},T=function markItemStarted(e,t){var r=t.itemId,n=t.courseId,s=t.userId,o=t.itemProgress,i=t.courseProgress,a=t.sessionId;return E.markStarted(r,n,s,a).then(O(e,C.d.progressStarted,o,i))},W=function getDeviceDimensions(){var e,t;if("undefined"!=typeof document&&"undefined"!=typeof window){var r,n=window.screen,s,o;if(void 0!==window.screen)e=n.height,t=n.width;else e=window.innerHeight,t=window.innerWidth}else e=0,t=0;return{deviceHeight:e,deviceWidth:t}},D=function isCompatibleWithMobile(e){var t=e.supportsTouch,r=e.minWidthPx,n=e.minHeightPx,s=W(),o=s.deviceWidth,i=s.deviceHeight;if(!1===t)return!1;if(void 0!==r&&r>o)return!1;if(void 0!==n&&n>i)return!1;return!0},N=t("cVIm"),j=t("kvW3"),A=t("gKW9"),F=t.n(A),U=t("46xw"),z="".concat(N.a.url.resource_assets,"widget/svgcomputer.svg"),R,X=function(e){function UnavailableOnMobileMessage(){return e.apply(this,arguments)||this}var t;return n()(UnavailableOnMobileMessage,e),UnavailableOnMobileMessage.prototype.render=function render(){var e=this.props.name;return(s.createElement("div",{className:"rc-UnavailableOnMobileMessage vertical-box align-items-absolute-center"},s.createElement("div",{className:"headline-5-text p-x-1"},e),s.createElement("div",{className:"body-1-text p-x-1 p-b-2"},s.createElement(j.b,{message:F()("This item was not designed for use on a small screen.")})),s.createElement("div",{className:"align-horizontal-center p-b-2"},s.createElement("img",{className:"computer-icon",src:z,alt:F()("Computer Icon"),height:"120",width:"220"})),s.createElement("div",{className:"body-1-text horizontal-box align-horizontal-center p-x-1"},s.createElement(j.b,{message:F()("Please use a computer or laptop to complete this item.")}))))},UnavailableOnMobileMessage}(s.Component),L=t("pVnL"),B=t.n(L),H=t("3tO9"),K=t.n(H),V,q=function componentDataFetcher(e,t){var r=e.displayName||e.name,o=function(o){function DataFetcherComponent(){for(var e,t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return(e=o.call.apply(o,[this].concat(n))||this).displayName=r+"DataFetcher",e.state={isComponentLoaded:!1},e}n()(DataFetcherComponent,o);var i=DataFetcherComponent.prototype;return i.componentDidMount=function componentDidMount(){var e=this,r=this.props,n=this.context,s=n.router,o=t(r,s.params,n).then((function(t){e.setState(K()({isComponentLoaded:!0},t))}));o.catch&&o.catch((function(e){throw e})),o.done&&o.done()},i.render=function render(){return s.createElement(e,B()({},this.props,this.state))},DataFetcherComponent}(s.Component);return o.contextTypes={executeAction:c.a.func,router:c.a.object},o.BaseComp=e,o},G=t("Jz+x"),J=t("TdzE"),Q=t("emlC"),Y=t("35G5"),Z=t("/AOU"),ee=t("w/Ge"),te=t("iXes"),re,ne=[Z.c.SET_COMPLETE],se=function(e){function WidgetItem(){for(var t,r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))||this).state={iFrameMessages:[],widgetId:Object(ee.b)(),itemProgressState:null,markCompleteDeferred:null,isExpanded:!1},t.onReceiveMessage=function(e){var r=t.state.iFrameMessages;if(r.push(e),t.setState({iFrameMessages:r}),e.type===Z.c.SET_COMPLETE){t.markComplete();var n=m.a.defer();return t.setState({markCompleteDeferred:n}),n.promise}return m()()},t.onToggleExpanded=function(){return t.setState((function(e){return{isExpanded:!e.isExpanded}}))},t.markComplete=function(){var e=t.props,r=e.computedCourseProgress.courseProgress,n=e.computedItem,s=e.courseId,o=e.sessionId,i=r.getItemProgress(n.id),a=l.a.get().id,c=n.id;Object(k.b)(r.get("id"),r),t.context.executeAction(y,{itemId:c,courseId:s,userId:a,itemProgress:i,courseProgress:r,sessionId:o})},t.markStarted=function(){var e=t.props,r=e.computedCourseProgress.courseProgress,n=e.computedItem,s=e.courseId,o=e.sessionId,i=r.getItemProgress(n.id),a=l.a.get().id,c=n.id;t.context.executeAction(T,{itemId:c,courseId:s,userId:a,itemProgress:i,courseProgress:r,sessionId:o})},t.isOnMobile=function(){var e,r=t.context.getStore("ApplicationStore").getUserAgent(),n=r&&r.isMobileBrowser;return p.a.get()||n},t}n()(WidgetItem,e);var t=WidgetItem.prototype;return t.UNSAFE_componentWillReceiveProps=function UNSAFE_componentWillReceiveProps(e){var t=this.props,r=t.computedItem,n,s=t.computedCourseProgress.courseProgress.getItemProgress(r.id);s.getState()!==this.state.itemProgressState&&(this.setState({itemProgressState:s.getState()}),this.state.markCompleteDeferred&&(this.state.markCompleteDeferred.resolve(),this.setState({markCompleteDeferred:null})))},t.render=function render(){var e,t=this,r=this.props,n=r.session,o=r.sessionId,a=r.computedItem,c=r.itemMetadata,d=r.courseMaterials,m=null==d?void 0:null===(e=d.getNeighbors(c))||void 0===e?void 0:e.nextItemMetadataOrItemGroup,u=this.state.isExpanded;if(!n)return re||(re=s.createElement("div",{className:"horizontal-box align-items-absolute-center widget-iframe"},s.createElement(b.a,{name:"spinner",size:"2x",spin:!0,className:"color-hint-text"})));if(this.isOnMobile()&&!D(a.contentSummary.definition))return s.createElement(X,{name:a.name});return(s.createElement("div",{className:i()("rc-WidgetItem",{mobile:this.isOnMobile()})},s.createElement(f.b,{tagName:"h1"},a.name),s.createElement(v.a,{courseId:a.courseId,show:!0}),s.createElement(Y.a,{inWidgetItem:!0,session:n,sessionId:o,onToggleExpanded:this.onToggleExpanded,widgetId:this.state.widgetId,parentRpcActions:ne,isComplete:a.isCompleted,widgetContentTitle:a.name,nextItem:m,markComplete:function markComplete(){t.markComplete()}}),s.createElement(h.b,{"aria-hidden":u,style:{marginTop:"50px",borderTop:"1px solid #ddd",paddingTop:"15px",paddingBottom:"15px"}},s.createElement(I.a,{computedItem:a,itemFeedbackType:"widget"}))))},WidgetItem}(s.Component);se.contextTypes={executeAction:c.a.func.isRequired,getStore:c.a.func};var oe=q(se,(function(e,t){var r=e.computedItem,n=e.courseId,s=e.courseSlug,o;return new g.a({itemId:r.id,courseId:n,courseSlug:s}).getWithUserCourseItemId("onDemandWidgetSessions.v1",{fields:["session","sessionId"]}).then((function(e){var t=e.elements[0],r,n;return{session:t.session,sessionId:t.sessionId}}))})),ie=Object(u.b)(Object(J.b)(),Object(G.a)(),Object(Q.a)(["CourseStore"],(function(e){var t=e.CourseStore;return{courseId:t.getCourseId(),courseSlug:t.getCourseSlug(),courseMaterials:t.getMaterials()}})))(oe),ae=e.default=ie},iXes:function(module,exports,e){e("Mww9")},j5nu:function(module,exports,e){}}]);
//# sourceMappingURL=92.8ce7042421bbce205f49.js.map